/* FightingGame(ProtoType)*/


// Rogue Like Game. コマンド4択を使ったゲーム(仮)
// 現在、時間計算とモンスター選択と戦闘システム一部のみ完成
import java.util.Scanner;
import java.util.Random;
class Sample00 {
	public static void main(String[] args) {
	Scanner scanner = new Scanner(System.in);
	// インスタンスを作成
	Fight fight = new Fight(); 
	Time time = new Time();
	Fighting fighting = new Fighting(fight);
	
	System.out.println("あなたは暗闇の中で目を覚ました");
	time.clock();
	System.out.println("時刻みの烙印が目覚めとともに金切り声を上げる");
	fight.uname();
	System.out.println("アナタは災イヲ呼ビ寄セル旅人"+ "\""+  fight.getUname() + "\"デス」");
	System.out.println("時刻みの烙印が小さな金切り声を上げた");
	System.out.println("暗闇の渦より生まれし混沌の使途があなたを襲う");
	System.out.println(fight.getName() +"が闇の中から姿を現した:" 
	+ "パターン" + fighting.getMonster());
	fighting.battle(fight);
	}
}
// 名前を登録するクラス
class Fight {
	Scanner scanner = new Scanner(System.in);
	private String name;
	private String uname;
	// constracter
	Fight() {
	System.out.println("どれほどの長い時間眠っていたのだろうか...");
	System.out.print("何時間眠っていたんだ?:");
	}

	// setter
	public void setName(String name) {
	this.name = name;
	}

	// getter
	public String getName(){
	return this.name;
	}

	// uname
	public void uname(){
	System.out.print("俺の名前は......");
	uname = scanner.next();
	}
	
	// setter
	public void setUname(String uname) {
	this.uname = uname;
	}

	// getter
	public String getUname(){
	return this.uname;
	}

}

// 時間についての計算をするクラス
class Time{
	Scanner scanner = new Scanner(System.in);
	int timer;

	// コンストラクタ
	Time(){
	// 時間を受け取る。例外処理付き
		try{
		timer = scanner.nextInt();
		}
		catch(Exception e){
			System.out.println("その入力は無効だ。最初からやり直せ");
			System.exit(0);
		}
	}
	// 条件分岐により入力された時間から日数と時間を計算するメソッド
	public void clock(){
	    if(timer > 24){
	    int days = timer / 24;
	    int hours = timer % 24;
	    System.out.println("「アナタガ転生スルマデ二カカッタ時間は"+ days + "日と"+ hours  + "時間デス」" );
	    } else {
            int hours = timer % 24;
	    int days = timer / 24;
	    System.out.println("「アナタガ転生スルマデ二カカッタ時間は" + hours  + "時間デス」" );
	    }	
	
	}
}

// モンスターをランダムで選択し、戦うクラス
class Fighting {
	Random random = new Random();
	Scanner scanner = new Scanner(System.in);
	private int monster;
	private int hp = 50;
	private int mhp;
	private boolean mukuro;
	// コンストラクタ
	Fighting(Fight fight){
	// ランダムでモンスターを選択するために乱数を取得
	monster = random.nextInt(4);
	// セッターを使用して名前をセット
	switch(monster){
	    case 0:
	    fight.setName("泥人形シェム・バ");
	    mhp = 20;
	    break;
	   
	    case 1:
	    fight.setName("腐肉食らいアンディッド");
	    mhp = 30;
	    break;

	    case 2:
	    fight.setName("死肉漁りのスライム");
	    mhp = 40;
	    break;

	    case 3:
	    fight.setName("変異した肉食ワーム");
	    mhp = 50;
	    break;
	    
	    default:
	    fight.setName("突然変異体ヌル");;
	    break;
	    }
	}
	// getter Monster select
	public int getMonster(){
	return this.monster;
	}
	// 戦闘システム
	public void battle(Fight fight){
	int select = 0;
	int damage = 0;
	int damage2 = 0;
		while(hp > 0 || mhp > 0){
		System.out.println("行動を選択してください:");
		System.out.print("1:ぶん殴る 2:骸袋 3:呪術 4:逃げる");

			try{
			select = scanner.nextInt();
			}catch(Exception e){
			System.out.println("その入力は無効だ。やり直せ");
			break;
			}
				switch(select){
				case 1:
				
				System.out.println(select +":ぶん殴る");
				System.out.println(fight.getName()+"に"+ damage +"のダメージ");
				damage = random.nextInt(20)+5;
				mhp -= damage;
				System.out.println(fight.getUname()+"に"+ damage +"のダメージ");
				damage2 = random.nextInt(20);
				hp -= damage2;
				break;
				case 2:
				System.out.println("骸袋は空だ");
				break;
				case 3:
				System.out.println("魔力が足りない......");
				break;
				case 4:
				System.out.println("逃げられない");
				break;
				default:
				System.out.println("その入力は無効だ。やり直せ");
				break;
			        }
		      }
		if(mhp < 0){
		System.out.println(fight.getName()+"を倒した");
		} else {
		System.out.println("あなたは闇に呑まれた");
		}
	     }
       } 
